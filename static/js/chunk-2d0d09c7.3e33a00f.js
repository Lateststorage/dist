(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d09c7"],{"695c":function(i,t,e){"use strict";e.r(t);var s=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"Main Background"},[e("van-nav-bar",{staticClass:"NavBar",attrs:{title:"聊天设置",border:!1},on:{"click-left":i.onClickBack,"click-right":function(t){i.showMenu=!0}}},[e("img",{staticClass:"icon-left",attrs:{slot:"left",src:"https://cdn.jsdelivr.net/gh/Lateststorage/dist@8d2dc7d3b90607415861ad492fe95b6472e8a5ee/static/miliao/icon/icon-back.svg"},slot:"left"})]),e("div",{ref:"Scroll",staticClass:"Scroll-Wrap"},[e("div",{staticClass:"Scroll-Con"},[e("div",{staticClass:"Box UserCenter"},[e("van-cell",{staticClass:"Info",attrs:{border:!1,size:"large","is-link":"",to:{name:"friendInfo",query:{id:i.friendId}}}},[e("div",{staticClass:"head-img",attrs:{slot:"icon"},slot:"icon"},[i.chatInfo.header?e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Lateststorage/dist@8d2dc7d3b90607415861ad492fe95b6472e8a5ee/static/miliao/images/headimg/"+i.chatInfo.header,width:"100%"}}):e("b",[i._v(i._s(i.chatInfo.memo_name?i.chatInfo.memo_name.slice(0,2):i.chatInfo.nickname.slice(0,2)))])]),e("template",{slot:"title"},[e("span",[i._v(i._s(i.chatInfo.memo_name?i.chatInfo.memo_name:i.chatInfo.nickname))]),e("div",{staticClass:"van-cell__label"},[i._v(" 密聊号："+i._s(i.chatInfo.mid)+" ")])])],2),e("van-cell-group",{staticClass:"mt20"},[e("van-switch-cell",{attrs:{title:"消息免打扰",size:"26px","active-color":"#44db5e"},on:{change:i.onChangeSwitch},model:{value:i.isVoice,callback:function(t){i.isVoice=t},expression:"isVoice"}}),e("van-switch-cell",{attrs:{title:"置顶聊天",size:"26px","active-color":"#44db5e"},on:{change:i.onChangeSwitch},model:{value:i.isTop,callback:function(t){i.isTop=t},expression:"isTop"}})],1),e("van-cell-group",{staticClass:"mt20"},[e("van-cell",{attrs:{title:"清空聊天记录",size:"large","is-link":""},on:{click:i.clearChat}})],1)],1)])])],1)},a=[],n={name:"ChatInfo",components:{},props:{},data(){return{chatInfo:{nickname:""},friendId:Number(this.$route.query.id),isVoice:!1,isTop:!1}},computed:{},watch:{},created(){this.$MiModel.GetFriendsInfo(this.friendId,i=>{this.chatInfo=i.info,this.isVoice=!!i.info.is_v_d,this.isTop=!!i.info.is_z_d})},mounted(){this.$MiInitial.InitScrollWrap(this.$el),this.ScrollWrap=new this.$MiBScroll(this.$refs.Scroll,{click:!0})},activated(){},destroyed(){},methods:{onClickBack(){this.$router.go(-1),this.$route.params.isBack=!0},onChangeSwitch(){this.$MiModel.SetFriendsInfo({is_v_d:this.isVoice?1:0,is_z_d:this.isTop?1:0,id:this.friendId},i=>{i||(this.isVoice=!!this.FriendInfo.is_v_d,this.isTop=!!this.FriendInfo.is_z_d)})},clearChat(){this.$MiDialog.Confirm("确定清空聊天记录？",()=>{this.$MiModel.SetFriendsInfo({state:9,id:this.friendId})})}}},o=n,c=e("2877"),l=Object(c["a"])(o,s,a,!1,null,null,null);t["default"]=l.exports}}]);